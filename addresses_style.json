{
  "version": 8,
  "id": "brandenburg-address-points-v1",
  "name": "Brandenburg Address Points",
  "metadata": {"maputnik:renderer": "mbgljs"},
  "sources": {
    "geoadr": {
      "type": "vector",
      "tiles": [
        "https://hfs.github.io/brandenburg-addresses/tiles/{z}/{x}/{y}.mvt"
      ],
      "minZoom": 0,
      "maxZoom": 14,
      "maxzoom": 14
    }
  },
  "sprite": "",
  "glyphs": "https://orangemug.github.io/font-glyphs/glyphs/{fontstack}/{range}.pbf",
  "layers": [
    {
      "id": "background",
      "type": "background",
      "paint": {"background-color": "rgba(0, 0, 0, 1)"}
    },
    {
      "id": "point_match_16+",
      "type": "circle",
      "source": "geoadr",
      "source-layer": "public.geoadr_matches",
      "minzoom": 16,
      "maxzoom": 18,
      "filter": ["==", "has_match", true],
      "layout": {"visibility": "visible"},
      "paint": {
        "circle-color": [
          "interpolate",
          ["linear"],
          ["number", ["get", "distance"]],
          0,
          "#ffffcc",
          50,
          "#a1dab4",
          100,
          "#41b6c4",
          150,
          "#2c7fb8",
          250,
          "#253494"
        ],
        "circle-radius": 5
      }
    },
    {
      "id": "point_match_14-16",
      "type": "circle",
      "source": "geoadr",
      "source-layer": "public.geoadr_matches",
      "minzoom": 14,
      "maxzoom": 16,
      "filter": ["==", "has_match", true],
      "layout": {"visibility": "visible"},
      "paint": {
        "circle-color": [
          "interpolate",
          ["linear"],
          ["number", ["get", "distance"]],
          0,
          "#ffffcc",
          50,
          "#a1dab4",
          100,
          "#41b6c4",
          150,
          "#2c7fb8",
          250,
          "#253494"
        ],
        "circle-radius": ["interpolate", ["linear"], ["zoom"], 14, 2, 16, 5]
      }
    },
    {
      "id": "point_match_13",
      "type": "circle",
      "source": "geoadr",
      "source-layer": "public.geoadr_matches_point",
      "minzoom": 13,
      "maxzoom": 14,
      "filter": ["==", "has_match", true],
      "layout": {"visibility": "visible"},
      "paint": {
        "circle-color": [
          "interpolate",
          ["linear"],
          ["number", ["get", "distance"]],
          0,
          "#ffffcc",
          50,
          "#a1dab4",
          100,
          "#41b6c4",
          150,
          "#2c7fb8",
          250,
          "#253494"
        ],
        "circle-radius": 2
      }
    },
    {
      "id": "point_missing_16+",
      "type": "circle",
      "source": "geoadr",
      "source-layer": "public.geoadr_matches",
      "minzoom": 16,
      "maxzoom": 18,
      "filter": ["==", "has_match", false],
      "layout": {"visibility": "visible"},
      "paint": {"circle-color": "rgba(218, 64, 150, 1)", "circle-radius": 5}
    },
    {
      "id": "point_missing_14-16",
      "type": "circle",
      "source": "geoadr",
      "source-layer": "public.geoadr_matches",
      "minzoom": 14,
      "maxzoom": 16,
      "filter": ["==", "has_match", false],
      "layout": {"visibility": "visible"},
      "paint": {
        "circle-color": "rgba(218, 64, 150, 1)",
        "circle-radius": ["interpolate", ["linear"], ["zoom"], 14, 2, 16, 5]
      }
    },
    {
      "id": "point_missing_13",
      "type": "circle",
      "source": "geoadr",
      "source-layer": "public.geoadr_matches_point",
      "minzoom": 13,
      "maxzoom": 14,
      "filter": ["==", "has_match", false],
      "layout": {"visibility": "visible"},
      "paint": {"circle-color": "rgba(218, 64, 150, 1)", "circle-radius": 2}
    },
    {
      "id": "overview_5",
      "type": "fill",
      "source": "geoadr",
      "source-layer": "geoadr_overview",
      "minzoom": 0,
      "maxzoom": 6,
      "paint": {
        "fill-color": [
          "interpolate",
          ["linear"],
          ["get", "missing"],
          0, "#ffffb2",
          32, "#ffe687",
          15840, "#fecc5c",
          39008, "#fead4c",
          70704, "#fd8d3c",
          97568, "#f7642e",
          116400, "#f03b20",
          150992, "#d71e23",
          195024, "#bd0026"
        ]
      }
    },
    {
      "id": "overview_6",
      "type": "fill",
      "source": "geoadr",
      "source-layer": "geoadr_overview",
      "minzoom": 6,
      "maxzoom": 7,
      "paint": {
        "fill-color": [
          "interpolate",
          ["linear"],
          ["get", "missing"],
          0, "#ffffb2",
          8, "#ffe687",
          1448, "#fecc5c",
          4720, "#fead4c",
          9232, "#fd8d3c",
          15328, "#f7642e",
          26560, "#f03b20",
          30216, "#d71e23",
          33728, "#bd0026"
        ]
      }
    },
    {
      "id": "overview_7",
      "type": "fill",
      "source": "geoadr",
      "source-layer": "geoadr_overview",
      "minzoom": 7,
      "maxzoom": 8,
      "paint": {
        "fill-color": [
          "interpolate",
          ["linear"],
          ["get", "missing"],
          0, "#ffffb2",
          4, "#ffe687",
          176, "#fecc5c",
          540, "#fead4c",
          1104, "#fd8d3c",
          2004, "#f7642e",
          3556, "#f03b20",
          5116, "#d71e23",
          6800, "#bd0026"
        ]
      }
    },
    {
      "id": "overview_8",
      "type": "fill",
      "source": "geoadr",
      "source-layer": "geoadr_overview",
      "minzoom": 8,
      "maxzoom": 9,
      "paint": {
        "fill-color": [
          "interpolate",
          ["linear"],
          ["get", "missing"],
          0, "#ffffb2",
          2, "#ffe687",
          34, "#fecc5c",
          96, "#fead4c",
          198, "#fd8d3c",
          366, "#f7642e",
          614, "#f03b20",
          908, "#d71e23",
          1710, "#bd0026"
        ]
      }
    },
    {
      "id": "overview_9",
      "type": "fill",
      "source": "geoadr",
      "source-layer": "geoadr_overview",
      "minzoom": 9,
      "maxzoom": 10,
      "paint": {
        "fill-color": [
          "interpolate",
          ["linear"],
          ["get", "missing"],
          0, "#ffffb2",
          1, "#ffe687",
          8, "#fecc5c",
          19, "#fead4c",
          33, "#fd8d3c",
          51, "#f7642e",
          74, "#f03b20",
          111, "#d71e23",
          311, "#bd0026"
        ]
      }
    },
    {
      "id": "overview_10-13",
      "type": "fill",
      "source": "geoadr",
      "source-layer": "geoadr_overview",
      "minzoom": 10,
      "maxzoom": 13,
      "paint": {
        "fill-color": [
          "interpolate",
          ["linear"],
          ["get", "missing"],
          0, "#ffffb2",
          1, "#ffe687",
          4, "#fecc5c",
          9, "#fead4c",
          14, "#fd8d3c",
          19, "#f7642e",
          26, "#f03b20",
          34, "#d71e23",
          45, "#bd0026"
        ]
      }
    },
    {
      "id": "hnr_match_18",
      "type": "symbol",
      "source": "geoadr",
      "source-layer": "public.geoadr_matches",
      "minzoom": 18,
      "maxzoom": 20,
      "filter": ["==", "has_match", true],
      "layout": {
        "text-field": "{hnradz}",
        "text-font": ["Roboto Condensed Regular"],
        "text-allow-overlap": true
      },
      "paint": {
        "text-color": [
          "interpolate",
          ["linear"],
          ["number", ["get", "distance"]],
          0,
          "#ffffcc",
          50,
          "#a1dab4",
          100,
          "#41b6c4",
          150,
          "#2c7fb8",
          250,
          "#253494"
        ]
      }
    },
    {
      "id": "hnr_match_20+",
      "type": "symbol",
      "source": "geoadr",
      "source-layer": "public.geoadr_matches",
      "minzoom": 20,
      "filter": ["==", "has_match", true],
      "layout": {
        "text-field": "{hnradz}, {stn}, {plz} {ottname}, {gmdname}",
        "text-font": ["Roboto Condensed Regular"],
        "text-justify": "left",
        "text-anchor": "left",
        "icon-text-fit": "none",
        "text-allow-overlap": true
      },
      "paint": {
        "text-color": [
          "interpolate",
          ["linear"],
          ["number", ["get", "distance"]],
          0,
          "#ffffcc",
          50,
          "#a1dab4",
          100,
          "#41b6c4",
          150,
          "#2c7fb8",
          250,
          "#253494"
        ]
      }
    },
    {
      "id": "hnr_missing_18",
      "type": "symbol",
      "source": "geoadr",
      "source-layer": "public.geoadr_matches",
      "minzoom": 18,
      "maxzoom": 20,
      "filter": ["==", "has_match", false],
      "layout": {
        "text-field": "{hnradz}",
        "text-font": ["Roboto Condensed Regular"],
        "text-allow-overlap": true
      },
      "paint": {"text-color": "rgba(218, 64, 150, 1)"}
    },
    {
      "id": "hnr_missing_20+",
      "type": "symbol",
      "source": "geoadr",
      "source-layer": "public.geoadr_matches",
      "minzoom": 20,
      "filter": ["==", "has_match", false],
      "layout": {
        "text-field": "{hnradz}, {stn}, {plz} {ottname}, {gmdname}",
        "text-font": ["Roboto Condensed Regular"],
        "text-justify": "left",
        "text-anchor": "left",
        "text-allow-overlap": true
      },
      "paint": {"text-color": "rgba(218, 64, 150, 1)"}
    }
  ]
}
